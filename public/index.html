<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Envio Egresos Terceros</title>
  <link rel="stylesheet" href="/styles.css" />
  <meta name="color-scheme" content="light" />
</head>
<body>
  <header>
    <div class="header-inner">
      <h1>Envio Egresos Terceros</h1>
      <div class="spacer"></div>
      <button id="exitBtn" class="btn-ghost" title="Salir">Salir</button>
      <button id="themeToggle" class="btn-ghost" title="Cambiar tema">ðŸŒ™</button>
    </div>
  </header>

  <main class="page">
    <section class="card">
      <h2>1) Subir PDF</h2>
      <form id="uploadForm">
        <input type="file" id="pdf" name="pdf" accept="application/pdf" required />
        <button type="submit">Procesar</button>
      </form>
      <div id="uploadInfo"></div>
    </section>

    <section class="card">
      <h2>2) Grilla <span id="pagesBadge" class="badge"></span></h2>
      <div class="toolbar">
        <button id="selectAllBtn" type="button" class="btn-secondary">Sel. todos</button>
        <button id="clearSelectionBtn" type="button" class="btn-secondary">Limpiar</button>
        <button id="selectMatchesBtn" type="button" class="btn-secondary">Solo coincidentes</button>
        <button id="resetGridBtn" type="button" class="btn-secondary">Limpiar grilla</button>
        <button id="purgeUploadsBtn" type="button" class="btn-secondary">Limpiar todo</button>
        <input id="subject" placeholder="Asunto" />
        <input id="body" placeholder="Mensaje" />
        <input id="senderEmail" type="email" placeholder="Tu correo (reply-to)" value="carlos.montero@syncbi.net" required />
        <button id="sendBtn" disabled>Enviar seleccionados</button>
        <span id="selectedCounter" class="status"></span>
        <span id="sendStatus" class="status"></span>
      </div>

      <table id="grid">
        <thead>
          <tr>
            <th>Sel</th>
            <th>PÃ¡gina</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Vista previa</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section class="card">
      <h2>3) Agregar/Actualizar tercero</h2>
      <div class="row">
        <input id="newNit" placeholder="NIT (solo dÃ­gitos)" />
        <input id="newNombre" placeholder="Nombre" />
        <input id="newEmail" placeholder="Email" />
        <button id="saveTercero">Guardar</button>
        <button id="reimportBtn" class="btn-secondary" type="button">Reimportar Excel</button>
      </div>
      <div id="saveInfo"></div>
    </section>
  </main>

  <script src="/app.js"></script>
  </body>
  </html>
